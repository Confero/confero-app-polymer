<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-material/paper-material.html">

<dom-module id="conf-event-item">
    <style>
        .u-table {
            display: table;
        }
        
        .u-table-cell {
            display: table-cell;
        }
        
        .u-vertical-top {
            vertical-align: top;
        }
        
        .u-padding {
            padding: 10px;
        }
    </style>
    <template>
        <paper-material elevation="2">
            <div class="u-table">
                <img src="{{imageLocation(conf.Image)}}" class="u-table-cell u-vertical-top u-padding">
                <div class="u-table-cell u-vertical-top u-padding">
                    <p>[[conf.Name]]</p>
                    <p>[[conf.Description]]</p>
                    <p>{{prettyDate(conf.StartDate, conf.EndDate)}}</p>
                </div>
            </div>
        </paper-material>
    </template>
</dom-module>

<script type="text/javascript" src="../../bower_components/momentjs/min/moment-with-locales.min.js"></script>
<script>
    moment.locale( window.navigator.language );
    
    Polymer({
        is: "conf-event-item",
        properties: {
            conf: "Object"
        },
        imageLocation: function( image ) {
            return "http://www.conferoapp.com/data/icon62/" + image;
        },
        prettyDate: function(start, end) {
            var sm = moment(start, "YYYY-MM-DD");
            var em = moment(end, "YYYY-MM-DD");
            return sm.format("LL") + " - " + em.format("LL");
        }
        
    });
</script>